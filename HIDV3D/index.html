<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>HIDV3D — Barebones</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header>
        <h1>HIDV3D</h1>
        <p class="subtitle">Web-based 3D Data Visualization</p>
    </header>

    <main>
        <div class="controls">
            <div class="button-group">
                <button id="uploadBtn"> Upload CSV</button>
                <button id="visualizeBtn" disabled> Visualize Data</button>
                <button id="resetBtn" disabled> Reset View</button>
                <button id="handControlBtn"> Hand Control</button>
            </div>

            <div id="handGesturePanel" style="display:none; position:relative; width:320px; height:240px; margin-top:1rem;">

            <div id="handLoading" style="display:none; position:absolute; top:5px; left:5px; z-index:10; background:#fffcee; color:#007bff; padding:5px 10px; border-radius:6px;">
                Loading handpose model…
            </div>

            <!-- Webcam video stream  -->
            <video id="webcam" autoplay playsinline width="320" height="240" style="position:absolute; left:0; top:0; background:#222; border-radius:10px; border:1px solid #007bff; z-index:1;"></video>
            
            <!-- Canvas to draw hand landmarks over the webcam -->
            <canvas id="gestureCanvas" width="320" height="240" style="position:absolute; left:0; top:0; pointer-events:none; z-index:2;"></canvas>
           
            <!-- Gesture status -->
            <div id="gestureStatus" style="position:absolute; bottom:12px; right:25px; font-size:2.5rem; z-index:3;"></div>
            </div>


            <input id="csvInput" type="file" accept=".csv" style="display:none;">

            <div id="dataInfo" style="display:none;" class="info-panel">
                <h4>Dataset Information</h4>
                <div class="stats">
                    <div><strong>Rows:</strong> <span id="rowCount">0</span></div>
                    <div><strong>Columns:</strong> <span id="colCount">0</span></div>
                    <div><strong>Numeric:</strong> <span id="numericCount">0</span></div>
                    <div><strong>Categorical:</strong> <span id="categoricalCount">0</span></div>
                </div>
            </div>

            <div id="columnSelector">
                <h3>Select Columns for 3D Axes</h3>
                <div class="column-grid">
                    <div class="column-option">
                        <label for="xAxis">X Axis:</label>
                        <select id="xAxis"></select>
                    </div>
                    <div class="column-option">
                        <label for="yAxis">Y Axis:</label>
                        <select id="yAxis"></select>
                    </div>
                    <div class="column-option">
                        <label for="zAxis">Z Axis:</label>
                        <select id="zAxis"></select>
                    </div>
                </div>
            </div>
        </div>

        <div id="view3d"></div>

        <div id="legend" style="display:none;" class="legend">
            <h3>Visualization Legend</h3>
            <div id="legendContent"></div>
        </div>
    </main>



    <!-- Tensorflow.js and Handpose/fingerpose: -->
    <script src="https://unpkg.com/@tensorflow/tfjs-core@3.7.0/dist/tf-core.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs-converter@3.7.0/dist/tf-converter.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs-backend-webgl@3.7.0/dist/tf-backend-webgl.js"></script>
    <script src="https://unpkg.com/@tensorflow-models/handpose@0.0.7/dist/handpose.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fingerpose@0.1.0/dist/fingerpose.min.js"></script>


    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.5.3/papaparse.min.js"></script>


    <!-- JavaScript Files - -->
    <script src="scripts/DataMapper.js"></script>
    <script src="scripts/CSV3DViewer.js"></script>
    <script src="scripts/ColumnDetector.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/HandTrack.js"></script>


</body>
</html>
